---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  name: openstackversions.core.openstack.org
spec:
  group: core.openstack.org
  names:
    kind: OpenStackVersion
    listKind: OpenStackVersionList
    plural: openstackversions
    singular: openstackversion
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.targetVersion
      name: Target Version
      type: string
    - jsonPath: .status.availableVersion
      name: Available Version
      type: string
    - jsonPath: .status.deployedVersion
      name: Deployed Version
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: OpenStackVersion is the Schema for the openstackversionupdates
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: OpenStackVersionSpec - defines the desired state of OpenStackVersion
            properties:
              customContainerImages:
                description: CustomContainerImages is a list of containerImages to
                  customize for deployment
                properties:
                  agentImage:
                    type: string
                  ansibleeeImage:
                    type: string
                  aodhAPIImage:
                    type: string
                  aodhEvaluatorImage:
                    type: string
                  aodhListenerImage:
                    type: string
                  aodhNotifierImage:
                    type: string
                  apacheImage:
                    description: this is shared by BaremetalOperator, OctaviaOperator,
                      and TelemetryOperator
                    type: string
                  barbicanAPIImage:
                    type: string
                  barbicanKeystoneListenerImage:
                    type: string
                  barbicanWorkerImage:
                    type: string
                  ceilometerCentralImage:
                    type: string
                  ceilometerComputeImage:
                    type: string
                  ceilometerIpmiImage:
                    type: string
                  ceilometerNotificationImage:
                    type: string
                  ceilometerSgcoreImage:
                    type: string
                  cinderAPIImage:
                    type: string
                  cinderBackupImage:
                    type: string
                  cinderSchedulerImage:
                    type: string
                  cinderVolumeImages:
                    additionalProperties:
                      type: string
                    type: object
                  designateAPIImage:
                    type: string
                  designateBackendbind9Image:
                    type: string
                  designateCentralImage:
                    type: string
                  designateMdnsImage:
                    type: string
                  designateProducerImage:
                    type: string
                  designateUnboundImage:
                    type: string
                  designateWorkerImage:
                    type: string
                  edpmFrrImage:
                    type: string
                  edpmIscsidImage:
                    type: string
                  edpmKeplerImage:
                    type: string
                  edpmLogrotateCrondImage:
                    type: string
                  edpmMultipathdImage:
                    type: string
                  edpmNeutronDhcpAgentImage:
                    type: string
                  edpmNeutronMetadataAgentImage:
                    type: string
                  edpmNeutronOvnAgentImage:
                    type: string
                  edpmNeutronSriovAgentImage:
                    type: string
                  edpmNodeExporterImage:
                    type: string
                  edpmOvnBgpAgentImage:
                    type: string
                  glanceAPIImage:
                    type: string
                  heatAPIImage:
                    type: string
                  heatCfnapiImage:
                    type: string
                  heatEngineImage:
                    type: string
                  horizonImage:
                    type: string
                  infraDnsmasqImage:
                    type: string
                  infraMemcachedImage:
                    type: string
                  infraRedisImage:
                    type: string
                  ironicAPIImage:
                    type: string
                  ironicConductorImage:
                    type: string
                  ironicInspectorImage:
                    type: string
                  ironicNeutronAgentImage:
                    type: string
                  ironicPxeImage:
                    type: string
                  ironicPythonAgentImage:
                    type: string
                  keystoneAPIImage:
                    type: string
                  manilaAPIImage:
                    type: string
                  manilaSchedulerImage:
                    type: string
                  manilaShareImages:
                    additionalProperties:
                      type: string
                    type: object
                  mariadbImage:
                    type: string
                  neutronAPIImage:
                    type: string
                  novaAPIImage:
                    type: string
                  novaComputeImage:
                    type: string
                  novaConductorImage:
                    type: string
                  novaNovncImage:
                    type: string
                  novaSchedulerImage:
                    type: string
                  octaviaAPIImage:
                    type: string
                  octaviaHealthmanagerImage:
                    type: string
                  octaviaHousekeepingImage:
                    type: string
                  octaviaWorkerImage:
                    type: string
                  openstackClientImage:
                    type: string
                  osContainerImage:
                    type: string
                  ovnControllerImage:
                    type: string
                  ovnControllerOvsImage:
                    type: string
                  ovnNbDbclusterImage:
                    type: string
                  ovnNorthdImage:
                    type: string
                  ovnSbDbclusterImage:
                    type: string
                  placementAPIImage:
                    type: string
                  rabbitmqImage:
                    type: string
                  swiftAccountImage:
                    type: string
                  swiftContainerImage:
                    type: string
                  swiftObjectImage:
                    type: string
                  swiftProxyImage:
                    type: string
                  telemetryNodeExporterImage:
                    type: string
                  testAnsibletestImage:
                    type: string
                  testHorizontestImage:
                    type: string
                  testTempestImage:
                    type: string
                  testTobikoImage:
                    type: string
                type: object
              targetVersion:
                description: TargetVersion is the version of OpenStack to install
                  (based on the availableVersion in the OpenStackVersion CR status)
                type: string
            required:
            - targetVersion
            type: object
          status:
            description: OpenStackVersionStatus defines the observed state of OpenStackVersion
            properties:
              availableVersion:
                type: string
              conditions:
                description: Conditions
                items:
                  description: Condition defines an observation of a API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: |-
                        Last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed. If that is not known, then using the time when
                        the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase.
                      type: string
                    severity:
                      description: |-
                        Severity provides a classification of Reason code, so the current situation is immediately
                        understandable and could act accordingly.
                        It is meant for situations where Status=False and it should be indicated if it is just
                        informational, warning (next reconciliation might fix it) or an error (e.g. DB create issue
                        and no actions to automatically resolve the issue can/should be done).
                        For conditions where Status=Unknown or Status=True the Severity should be SeverityNone.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              containerImageVersionDefaults:
                additionalProperties:
                  description: ContainerDefaults - struct that contains container
                    image default URLs for each service (internal use only)
                  properties:
                    agentImage:
                      type: string
                    ansibleeeImage:
                      type: string
                    aodhAPIImage:
                      type: string
                    aodhEvaluatorImage:
                      type: string
                    aodhListenerImage:
                      type: string
                    aodhNotifierImage:
                      type: string
                    apacheImage:
                      description: this is shared by BaremetalOperator, OctaviaOperator,
                        and TelemetryOperator
                      type: string
                    barbicanAPIImage:
                      type: string
                    barbicanKeystoneListenerImage:
                      type: string
                    barbicanWorkerImage:
                      type: string
                    ceilometerCentralImage:
                      type: string
                    ceilometerComputeImage:
                      type: string
                    ceilometerIpmiImage:
                      type: string
                    ceilometerNotificationImage:
                      type: string
                    ceilometerSgcoreImage:
                      type: string
                    cinderAPIImage:
                      type: string
                    cinderBackupImage:
                      type: string
                    cinderSchedulerImage:
                      type: string
                    cinderVolumeImage:
                      type: string
                    designateAPIImage:
                      type: string
                    designateBackendbind9Image:
                      type: string
                    designateCentralImage:
                      type: string
                    designateMdnsImage:
                      type: string
                    designateProducerImage:
                      type: string
                    designateUnboundImage:
                      type: string
                    designateWorkerImage:
                      type: string
                    edpmFrrImage:
                      type: string
                    edpmIscsidImage:
                      type: string
                    edpmKeplerImage:
                      type: string
                    edpmLogrotateCrondImage:
                      type: string
                    edpmMultipathdImage:
                      type: string
                    edpmNeutronDhcpAgentImage:
                      type: string
                    edpmNeutronMetadataAgentImage:
                      type: string
                    edpmNeutronOvnAgentImage:
                      type: string
                    edpmNeutronSriovAgentImage:
                      type: string
                    edpmNodeExporterImage:
                      type: string
                    edpmOvnBgpAgentImage:
                      type: string
                    glanceAPIImage:
                      type: string
                    heatAPIImage:
                      type: string
                    heatCfnapiImage:
                      type: string
                    heatEngineImage:
                      type: string
                    horizonImage:
                      type: string
                    infraDnsmasqImage:
                      type: string
                    infraMemcachedImage:
                      type: string
                    infraRedisImage:
                      type: string
                    ironicAPIImage:
                      type: string
                    ironicConductorImage:
                      type: string
                    ironicInspectorImage:
                      type: string
                    ironicNeutronAgentImage:
                      type: string
                    ironicPxeImage:
                      type: string
                    ironicPythonAgentImage:
                      type: string
                    keystoneAPIImage:
                      type: string
                    manilaAPIImage:
                      type: string
                    manilaSchedulerImage:
                      type: string
                    manilaShareImage:
                      type: string
                    mariadbImage:
                      type: string
                    neutronAPIImage:
                      type: string
                    novaAPIImage:
                      type: string
                    novaComputeImage:
                      type: string
                    novaConductorImage:
                      type: string
                    novaNovncImage:
                      type: string
                    novaSchedulerImage:
                      type: string
                    octaviaAPIImage:
                      type: string
                    octaviaHealthmanagerImage:
                      type: string
                    octaviaHousekeepingImage:
                      type: string
                    octaviaWorkerImage:
                      type: string
                    openstackClientImage:
                      type: string
                    osContainerImage:
                      type: string
                    ovnControllerImage:
                      type: string
                    ovnControllerOvsImage:
                      type: string
                    ovnNbDbclusterImage:
                      type: string
                    ovnNorthdImage:
                      type: string
                    ovnSbDbclusterImage:
                      type: string
                    placementAPIImage:
                      type: string
                    rabbitmqImage:
                      type: string
                    swiftAccountImage:
                      type: string
                    swiftContainerImage:
                      type: string
                    swiftObjectImage:
                      type: string
                    swiftProxyImage:
                      type: string
                    telemetryNodeExporterImage:
                      type: string
                    testAnsibletestImage:
                      type: string
                    testHorizontestImage:
                      type: string
                    testTempestImage:
                      type: string
                    testTobikoImage:
                      type: string
                  type: object
                description: where we keep track of the container images for previous
                  versions
                type: object
              containerImages:
                description: This is the source of truth for the container images
                  to be deployed.
                properties:
                  agentImage:
                    type: string
                  ansibleeeImage:
                    type: string
                  aodhAPIImage:
                    type: string
                  aodhEvaluatorImage:
                    type: string
                  aodhListenerImage:
                    type: string
                  aodhNotifierImage:
                    type: string
                  apacheImage:
                    description: this is shared by BaremetalOperator, OctaviaOperator,
                      and TelemetryOperator
                    type: string
                  barbicanAPIImage:
                    type: string
                  barbicanKeystoneListenerImage:
                    type: string
                  barbicanWorkerImage:
                    type: string
                  ceilometerCentralImage:
                    type: string
                  ceilometerComputeImage:
                    type: string
                  ceilometerIpmiImage:
                    type: string
                  ceilometerNotificationImage:
                    type: string
                  ceilometerProxyImage:
                    type: string
                  ceilometerSgcoreImage:
                    type: string
                  cinderAPIImage:
                    type: string
                  cinderBackupImage:
                    type: string
                  cinderSchedulerImage:
                    type: string
                  cinderVolumeImages:
                    additionalProperties:
                      type: string
                    description: |-
                      CinderVolumeImages custom Cinder Volume images for each backend (default Cinder volume image is stored 'default' key)
                      TODO: add validation to cinder-operator to prevent backend being named 'default'
                    type: object
                  designateAPIImage:
                    type: string
                  designateBackendbind9Image:
                    type: string
                  designateCentralImage:
                    type: string
                  designateMdnsImage:
                    type: string
                  designateProducerImage:
                    type: string
                  designateUnboundImage:
                    type: string
                  designateWorkerImage:
                    type: string
                  edpmFrrImage:
                    type: string
                  edpmIscsidImage:
                    type: string
                  edpmKeplerImage:
                    type: string
                  edpmLogrotateCrondImage:
                    type: string
                  edpmMultipathdImage:
                    type: string
                  edpmNeutronDhcpAgentImage:
                    type: string
                  edpmNeutronMetadataAgentImage:
                    type: string
                  edpmNeutronOvnAgentImage:
                    type: string
                  edpmNeutronSriovAgentImage:
                    type: string
                  edpmNodeExporterImage:
                    type: string
                  edpmOvnBgpAgentImage:
                    type: string
                  glanceAPIImage:
                    type: string
                  heatAPIImage:
                    type: string
                  heatCfnapiImage:
                    type: string
                  heatEngineImage:
                    type: string
                  horizonImage:
                    type: string
                  infraDnsmasqImage:
                    type: string
                  infraMemcachedImage:
                    type: string
                  infraRedisImage:
                    type: string
                  ironicAPIImage:
                    type: string
                  ironicConductorImage:
                    type: string
                  ironicInspectorImage:
                    type: string
                  ironicNeutronAgentImage:
                    type: string
                  ironicPxeImage:
                    type: string
                  ironicPythonAgentImage:
                    type: string
                  keystoneAPIImage:
                    type: string
                  manilaAPIImage:
                    type: string
                  manilaSchedulerImage:
                    type: string
                  manilaShareImages:
                    additionalProperties:
                      type: string
                    description: |-
                      ManilaShareImages custom Manila Share images for each backend (default Manila share image is stored 'default' key)
                      TODO: add validation to manila-operator to prevent backend being named 'default'
                    type: object
                  mariadbImage:
                    type: string
                  neutronAPIImage:
                    type: string
                  novaAPIImage:
                    type: string
                  novaComputeImage:
                    type: string
                  novaConductorImage:
                    type: string
                  novaNovncImage:
                    type: string
                  novaSchedulerImage:
                    type: string
                  octaviaAPIImage:
                    type: string
                  octaviaApacheImage:
                    type: string
                  octaviaHealthmanagerImage:
                    type: string
                  octaviaHousekeepingImage:
                    type: string
                  octaviaWorkerImage:
                    type: string
                  openstackClientImage:
                    type: string
                  osContainerImage:
                    type: string
                  ovnControllerImage:
                    type: string
                  ovnControllerOvsImage:
                    type: string
                  ovnNbDbclusterImage:
                    type: string
                  ovnNorthdImage:
                    type: string
                  ovnSbDbclusterImage:
                    type: string
                  placementAPIImage:
                    type: string
                  rabbitmqImage:
                    type: string
                  swiftAccountImage:
                    type: string
                  swiftContainerImage:
                    type: string
                  swiftObjectImage:
                    type: string
                  swiftProxyImage:
                    type: string
                  telemetryNodeExporterImage:
                    type: string
                  testAnsibletestImage:
                    type: string
                  testHorizontestImage:
                    type: string
                  testTempestImage:
                    type: string
                  testTobikoImage:
                    type: string
                type: object
              deployedVersion:
                type: string
              observedGeneration:
                description: ObservedGeneration - the most recent generation observed
                  for this object.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
